<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Review</title>
  <link rel="stylesheet" type="text/css" href="/css/styles.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
<div class="sidenav">
  <a href="/">Головна</a>
  <a href="/uslugi">Послуги</a>
  <a href="/tattoo-masters">Майстри</a>
  <a href="/stili-tattoo">Стилі Тату</a>
  <a href="/nash-blog">Блог</a>
  <a href="/otzyvy">Відгуки</a>
  <a href="/kontakty">Контакти</a>
  <a href="/guest-master">Travel Master</a>
</div>
<div class="container-logo">
  <h1 class="neon-text">SKIN DREAMS</h1>
  <h2 class="neon-text">TATTOO STUDIO</h2>
</div>
<h1 class="main-greeting">Відгуки SkinDreams</h1>
<div class="background" >
  <div class="container">
    <div class="screen">
      <div class="screen-header">
        <div class="screen-header-left">
          <div class="screen-header-button close"></div>
          <div class="screen-header-button maximize"></div>
          <div class="screen-header-button minimize"></div>
        </div>
        <div class="screen-header-right">
          <div class="screen-header-ellipsis"></div>
          <div class="screen-header-ellipsis"></div>
          <div class="screen-header-ellipsis"></div>
        </div>
      </div>
      <div class="screen-body" id="success">
        <div class="screen-body-item left">
          <div class="app-title" >
            <span>ЗАПИСАТИСЯ </span>
            <span>НА КОНСТУЛЬТАЦІЮ</span>
          </div>
          <div class="app-contact">Контакт Інфо: +38 063 443 66 67</div>
        </div>
        <div class="screen-body-item">
          <div class="app-form">
            <form method="post" action="/otzyvy/add-review" onsubmit="return validateForm()">
              <div class="app-form-group">
                <label for="authorName"></label>
                <input class="app-form-control" type="text" id="authorName" name="authorName" placeholder="NAME" required>
              </div>
              <div class="app-form-group">
                <label for="text"></label>
                <input class="app-form-control" id="text" name="text" placeholder="COMMENT" required>
              </div>
              <div class="app-form-group">
                <label for="rating"></label>
                <input type="number" class="app-form-control" id="rating" name="rating" placeholder="RAITING" required>
              </div>
              <div class="app-form-group">
                <label for="rating"></label>
                <select class="form-control" id="masterName" name="masterName" required>
                  <!-- Use Thymeleaf to iterate over the list of masters -->
                  <option th:each="master : ${masters}" th:value="${master.name}" th:text="${master.name}"></option>
                </select>
              </div>
              <div class="app-form-group buttons">
                <button class="app-form-button">SEND</button>
              </div>
            </form>
            <div class="success-message" >
              <span th:if="${successMessage}" th:text="${successMessage}"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="credits">
      Created by
      <a class="credits-link" href="https://skindreams.tattoo/" target="_blank">
        <svg class="dribbble" viewBox="0 0 200 200">
          <g stroke="#ffffff" fill="none">
            <circle cx="100" cy="100" r="90" stroke-width="20"></circle>
            <path d="M62.737004,13.7923523 C105.08055,51.0454853 135.018754,126.906957 141.768278,182.963345" stroke-width="20"></path>
            <path d="M10.3787186,87.7261455 C41.7092324,90.9577894 125.850356,86.5317271 163.474536,38.7920951" stroke-width="20"></path>
            <path d="M41.3611549,163.928627 C62.9207607,117.659048 137.020642,86.7137169 189.041451,107.858103" stroke-width="20"></path>
          </g>
        </svg>
        SkinDreams Tattoo Co
      </a>
    </div>
  </div>
</div>

<script>
  function validateForm() {
    var authorName = document.getElementById("authorName").value;
    var comment = document.getElementById("text").value;
    var rating = document.getElementById("rating").value;
    var masterName = document.getElementById("masterName").value;

    if (authorName === "" || comment === "" || rating === "" || masterName === "") {
      alert("Please fill in all fields");
      return false;
    }

    return true;
  }
</script>

<div class="table-responsive">
  <table class="table">
    <thead>
    <tr>
      <th>Автор</th>
      <th>Текст отзыва</th>
      <th>Рейтинг</th>
      <th>Мастер</th>
    </tr>
    </thead>
    <tbody>
    <!-- Используем Thymeleaf для итерации по списку отзывов -->
    <tr th:each="review : ${reviews}">
      <td th:text="${review.authorName}"></td>
      <td th:text="${review.text}"></td>
      <td th:text="${review.rating}"></td>
      <td th:text="${review.master.name}"></td>
    </tr>
    </tbody>
  </table>
</div>
      <div class="pagination">
        <ul>
          <!-- Создание ссылок для перехода по страницам -->
          <li th:each="pageNumber : ${#numbers.sequence(0, reviews.totalPages - 1)}">
            <a th:href="@{/otzyvy(page=${pageNumber}, size=${pageSize})}"
               th:class="${pageNumber} == ${currentPage} ? 'active'">[[${pageNumber}]]</a>
          </li>
        </ul>
      </div>
    </div>



<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
